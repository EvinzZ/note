# InnoDB一棵B+树可以存放多少行数据？

**约2千万**

计算机在存储数据的时候，有最小存储单元，在计算机中磁盘存储数据最小单元是扇区，一个扇区的大小是512字节，而文件系统的最小单元是块，一个块的大小是4k，而对于我们的InnoDB存储引擎也有自己的最小储存单元--页（Page），一个页的大小是16k。

InnoDB的所有数据文件（后缀为ibd的文件），它的大小始终都是16384（16k）的整数倍。

数据表中的数据都是存储在页中的，假设一行数据的大小是1k，那么一个页可以存放16行这样的数据。

对于B+树而言，只有叶子节点存放数据，非叶子节点存放的是只保存索引信息和下一层节点的指针信息。

假设主键id为bigint类型，长度为8字节，而指针大小在InnoDB源码中设置为6字节，这样一共14字节，我们一个页中能存放 16384/14=1170个指针。

一棵高度为2的B+树，存在一个根节点和若干个叶子节点能存放1170*16=18720条这样的数据记录。

根据同样的原理我们可以算出一个高度为3的B+数可以存放：1170*1170*16=21902400条这样的记录。

